#!/bin/bash
 
# Declare a string array with type
declare -a StringArray=( "{{ parentDomain }}"{{ space }}{%- for resource in resources -%} "{{ resources[resource].name  }}.{{ parentDomain }}" {% endfor -%})
 
# Read the array values with space
for val in "${StringArray[@]}"; do
  nslookup -type=[NS] $val {{ cloudflare_ns_record }} | grep "** server can't find" | awk '{print $5}' > errorNS.txt 
done
